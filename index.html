<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Birds Dictionary</title>
</head>
<body>
    <h1>Welcome to the Birds Dictionary</h1>

    <!-- –ü–æ–ª–µ –ø–æ–∏—Å–∫–∞ -->
    <input type="text" id="search-input" placeholder="–ü–æ—à—É–∫ –ø–∞ –Ω–∞–∑–≤–µ...">
    <button onclick="searchBirds()">üîç –ü–æ—à—É–∫</button>
    
    <h2>–£—Å–µ –ø—Ç—É—à–∫—ñ –ï—û—Ä–æ–ø—ã:</h2>
    <div id="all-birds"></div> <!-- –ó–¥–µ—Å—å –±—É–¥—É—Ç –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –ø—Ç–∏—Ü—ã -->

    <script src="data.js"></script>
    <script src="ebird.js"></script>
    <script>
        // –§—É–Ω–∫—Ü–∏—è –ø–æ–∏—Å–∫–∞ –∞–Ω–≥–ª–∏–π—Å–∫–æ–≥–æ –Ω–∞–∑–≤–∞–Ω–∏—è –ø–æ –ª–∞—Ç–∏–Ω—Å–∫–æ–º—É
        function getEnglishName(latinName) {
            const birdMatch = ebirdsData.find(bird => bird.sciName === latinName);
            return birdMatch ? birdMatch.comName : "–ù—è–º–∞ –¥–∞–¥–∑–µ–Ω—ã—Ö";
        }

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –ø—Ç–∏—Ü –ø–æ —Å–ø–∏—Å–∫—É
        function displayBirds(filteredBirds) {
            const allBirdsDiv = document.getElementById('all-birds');
            allBirdsDiv.innerHTML = ''; // –û—á–∏—Å—Ç–∫–∞ –ø–µ—Ä–µ–¥ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ–º –Ω–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö

            filteredBirds.forEach(bird => {
                const englishName = getEnglishName(bird["–õ–∞—Ü—ñ–Ω—Å–∫–∞—è –Ω–∞–∑–≤–∞"]);

                const birdDiv = document.createElement('div');
                birdDiv.innerHTML = `
                    <p><strong>–õ–∞—Ü—ñ–Ω—Å–∫–∞—è –Ω–∞–∑–≤–∞:</strong> ${bird["–õ–∞—Ü—ñ–Ω—Å–∫–∞—è –Ω–∞–∑–≤–∞"]}</p>
                    <p><strong>–ë–µ–ª–∞—Ä—É—Å–∫–∞—è –Ω–∞–∑–≤–∞:</strong> ${bird["–ë–µ–ª–∞—Ä—É—Å–∫–∞—è –Ω–∞–∑–≤–∞"]}</p>
                    <p><strong>–†—É—Å–∫–∞—è –Ω–∞–∑–≤–∞:</strong> ${bird["–†—É—Å–∫–∞—è –Ω–∞–∑–≤–∞"]}</p>
                    <p><strong>–ê–Ω–≥–ª—ñ–π—Å–∫–∞—è –Ω–∞–∑–≤–∞:</strong> ${englishName}</p>
                    <hr>
                `;
                allBirdsDiv.appendChild(birdDiv);
            });
        }

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–∏—Å–∫–∞ –ø—Ç–∏—Ü
        function searchBirds() {
            const query = document.getElementById('search-input').value.toLowerCase();

            const filteredBirds = birdsData.filter(bird =>
                bird["–ë–µ–ª–∞—Ä—É—Å–∫–∞—è –Ω–∞–∑–≤–∞"].toLowerCase().includes(query) ||
                bird["–†—É—Å–∫–∞—è –Ω–∞–∑–≤–∞"].toLowerCase().includes(query) ||
                bird["–õ–∞—Ü—ñ–Ω—Å–∫–∞—è –Ω–∞–∑–≤–∞"].toLowerCase().includes(query) ||
                getEnglishName(bird["–õ–∞—Ü—ñ–Ω—Å–∫–∞—è –Ω–∞–∑–≤–∞"]).toLowerCase().includes(query)
            );

            displayBirds(filteredBirds);
        }

        // –ò–∑–Ω–∞—á–∞–ª—å–Ω–æ –æ—Ç–æ–±—Ä–∞–∂–∞–µ–º –≤—Å–µ –ø—Ç–∏—Ü—ã
        displayBirds(birdsData);

        // –ü–æ–∑–≤–æ–ª—è–µ—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å –ø–æ–∏—Å–∫ –ø—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ Enter
        document.getElementById('search-input').addEventListener("keyup", function(event) {
            if (event.key === "Enter") {
                searchBirds();
            }
        });
    </script>
</body>
</html>
