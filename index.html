<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Birds Dictionary</title>
</head>
<body>
    <h1>Welcome to the Birds Dictionary</h1>

    <!-- –ü–æ–ª–µ –ø–æ–∏—Å–∫–∞ -->
    <input type="text" id="search-input" placeholder="–ü–æ—à—É–∫ –ø–∞ –Ω–∞–∑–≤–µ...">
    <button onclick="searchBirds()">üîç –ü–æ—à—É–∫</button>
    
    <h2>–£—Å–µ –ø—Ç—É—à–∫—ñ –ï—û—Ä–æ–ø—ã:</h2>
    <div id="all-birds"></div> <!-- –ó–¥–µ—Å—å –±—É–¥—É—Ç –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –ø—Ç–∏—Ü—ã -->

    <script src="data.js"></script>
    <script src="ebird.js"></script>
    <script>
        function getEnglishName(latinName) {
            const birdMatch = ebirdsData.find(bird => bird.sciName === latinName);
            return birdMatch ? birdMatch.comName : "–ù—è–º–∞ –¥–∞–¥–∑–µ–Ω—ã—Ö";
        }

        function displayBirds(filteredBirds) {
            const allBirdsDiv = document.getElementById('all-birds');
            allBirdsDiv.innerHTML = '';

            if (filteredBirds.length === 0) {
                allBirdsDiv.innerHTML = "<p>–ù—ñ—á–æ–≥–∞ –Ω–µ –∑–Ω–æ–π–¥–∑–µ–Ω–∞</p>";
                return;
            }

            filteredBirds.forEach(bird => {
                const englishName = getEnglishName(bird["–õ–∞—Ü—ñ–Ω—Å–∫–∞—è –Ω–∞–∑–≤–∞"]);

                const birdDiv = document.createElement('div');
                birdDiv.innerHTML = `
                    <p><strong>–õ–∞—Ü—ñ–Ω—Å–∫–∞—è –Ω–∞–∑–≤–∞:</strong> ${bird["–õ–∞—Ü—ñ–Ω—Å–∫–∞—è –Ω–∞–∑–≤–∞"]}</p>
                    <p><strong>–ë–µ–ª–∞—Ä—É—Å–∫–∞—è –Ω–∞–∑–≤–∞:</strong> ${bird["–ë–µ–ª–∞—Ä—É—Å–∫–∞—è –Ω–∞–∑–≤–∞"]}</p>
                    <p><strong>–†—É—Å–∫–∞—è –Ω–∞–∑–≤–∞:</strong> ${bird["–†—É—Å–∫–∞—è –Ω–∞–∑–≤–∞"]}</p>
                    <p><strong>–ê–Ω–≥–ª—ñ–π—Å–∫–∞—è –Ω–∞–∑–≤–∞:</strong> ${englishName}</p>
                    <hr>
                `;
                allBirdsDiv.appendChild(birdDiv);
            });
        }

        function searchBirds() {
            const query = document.getElementById('search-input').value.trim().toLowerCase();

            if (query === "") {
                displayBirds(birdsData);
                return;
            }

            const filteredBirds = birdsData.filter(bird =>
                bird["–ë–µ–ª–∞—Ä—É—Å–∫–∞—è –Ω–∞–∑–≤–∞"].toLowerCase().includes(query) ||
                bird["–†—É—Å–∫–∞—è –Ω–∞–∑–≤–∞"].toLowerCase().includes(query) ||
                bird["–õ–∞—Ü—ñ–Ω—Å–∫–∞—è –Ω–∞–∑–≤–∞"].toLowerCase().includes(query) ||
                getEnglishName(bird["–õ–∞—Ü—ñ–Ω—Å–∫–∞—è –Ω–∞–∑–≤–∞"]).toLowerCase().includes(query)
            );

            displayBirds(filteredBirds);
        }

        displayBirds(birdsData);

        document.getElementById('search-input').addEventListener("keyup", function(event) {
            if (event.key === "Enter") {
                searchBirds();
            }
        });
    </script>
</body>
</html>
